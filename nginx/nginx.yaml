apiVersion: apps/v1
kind: Deployment
metadata:
   name: nginx
   labels:
      app: nginx
spec:
   selector:
      matchLabels:
         app: nginx
   template:
      metadata:
         labels:
            app: nginx
      spec:
         containers:
         - name: nginx-containers
           image: nginx
           imagePullPolicy: Never
           ports:
           - containerPort: 80
           - containerPort: 443
           - containerPort: 22

---

apiVersion: v1
kind: Service
metadata:
   name: nginx
spec:
   selector:
     app: nginx
   type: LoadBalancer
   ports:
   - port: 80
     targetPort: 80
   - port: 443
     targetPort: 443
   - port: 22
     targetPort: 22  